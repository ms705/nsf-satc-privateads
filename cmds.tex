\renewcommand{\ttdefault}{pxtt}

\newcommand{\name}{MVS\@\xspace}
\newcommand{\proto}{MultiverseDB\@\xspace}

\newcommand{\URL}{\url}
\newcommand{\cc}[1]{\mbox{\smaller[0.5]\texttt{#1}}}

\clubpenalty=10000
\widowpenalty=10000

%% Bugfix for buggy version of titlesec shipped with Ubuntu 16.04
%\usepackage{etoolbox}
%\makeatletter
%\patchcmd{\ttlh@hang}{\parindent\z@}{\parindent\z@\leavevmode}{}{}
%\patchcmd{\ttlh@hang}{\noindent}{}{}{}
%\makeatother
%% End bugfix

% TiKZ graphics
\usepackage{tikz}
\usetikzlibrary{calc}
\usetikzlibrary{trees}
\usetikzlibrary{positioning}
\usetikzlibrary{arrows}
\usetikzlibrary{decorations.pathreplacing, decorations.pathmorphing}

% Default settings for code listings
\lstset{
  frame=tb,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\footnotesize\ttfamily},
%  numbers=left,
  numbersep=5pt,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue}\textbf,
  commentstyle=\color{gray}\textit,
  stringstyle=\color{OrangeRed},
%  breaklines=true,
%  breakatwhitespace=true,
  tabsize=5,
  captionpos=b
}

% Soup recipe syntax
\lstdefinelanguage{soup}{
  morekeywords={U, COUNT,in,JOIN,SUM,AGGR,LATEST,BY},
  morekeywords=[2]{Article,Vote,Rating,Foo,Bar,User,Addr},
%  morekeywords=[3]{ArticleVotes,ArticleRatings,AllSum},
  otherkeywords={*,=,<,>,<=,>=,<-,->,.,\_},
  sensitive=true,
  morecomment=[l]{//},
  morecomment=[n]{/*}{*/},
  morestring=[b]'',
  morestring=[b]',
  morestring=[b]""
  keywordstyle=\color{blue}\textbf,
  keywordstyle={[2]\color{OliveGreen}\textbf},
  keywordstyle={[3]\color{RoyalPurple}\textbf},
  identifierstyle=\color{Sepia},
}

\setlength{\abovedisplayskip}{0pt}
\setlength{\abovedisplayshortskip}{0pt}
\setlength{\belowdisplayskip}{0pt}
\setlength{\belowdisplayshortskip}{0pt}
\setlength{\jot}{0pt}

\setlength{\textfloatsep}{10pt plus 2pt minus 4pt}

\def\Snospace~{\S{}}
\renewcommand*\sectionautorefname{\Snospace}
\renewcommand{\subsectionautorefname}{\Snospace}
\renewcommand{\subsubsectionautorefname}{\Snospace}

\newif\ifdraft\drafttrue
%\newif\ifdraft\draftfalse
\newif\ifnotes\notestrue
\ifdraft\else\notesfalse\fi

% TODO command
\newcommand{\todo}[1]{{\color{red}\textsf{TODO: #1}}}
% Mark rough writing
\newcommand{\rough}[1]{{\color{blue}{#1}}}
%\newcommand{\rough}[1]{{\color{black}{#1}}}
% Define \XXX, \XXX[notes] and \XXX[author][notes]
\definecolor{xxxcolor}{rgb}{0.8,0,0}
\makeatletter
\long\def\XXX{\@ifnextchar[{\@XXX}{\@XXX[]}}
\long\def\@XXX[#1]{\@ifnextchar[{\@@@XXX{#1}}{\@@XXX{#1}}}
\ifnotes
% Show XXX comments
\long\def\@@XXX#1{{\color{xxxcolor} XXX #1}\xspace}
\long\def\@@@XXX#1[#2]{{\color{xxxcolor} XXX (#1) #2}\xspace}
\else
% Hide XXX comments
\long\def\@@XXX#1{\ignorespaces}
\long\def\@@@XXX#1[#2]{\ignorespaces}
\fi
\makeatother

%% Ensure ligatures (e.g., ``fine official flag'') can be copy/pasted from PDF.
\input{glyphtounicode}
\pdfgentounicode=1

%\bibpunct[: ]{[}{]}{,}{n}{XXX}{XXX}

\newcommand{\ind}{\hspace{0.5cm}}

\renewcommand{\topfraction}{0.9}
\renewcommand{\bottomfraction}{0.9}
\setcounter{topnumber}{2}
\setcounter{bottomnumber}{2}
\setcounter{totalnumber}{4}
\setcounter{dbltopnumber}{2}
\renewcommand{\dbltopfraction}{0.9}
\renewcommand{\textfraction}{0.05}
\renewcommand{\floatpagefraction}{0.9}
\renewcommand{\dblfloatpagefraction}{0.9}

\newcommand{\eg}{{e.g.},\xspace}
\newcommand{\ie}{{i.e.},\xspace}
\newcommand{\vs}{{vs.}\xspace}

\newcommand\code[1]{\texttt{#1}}

\newcommand{\muDB}{µDB\xspace}
\newcommand{\muDBs}{µDBs\xspace}

\DeclareUnicodeCharacter{0301}{*************************************}

\newcommand{\pk}{\mathit{PK}}
