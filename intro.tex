\section{Introduction}
\label{s:overview}

%\subsection{Online Advertising}

Today's web ecosystem crucially relies on online advertising as a source of
revenue for web services that are free to end users.
%
Advertising is a trillion-dollar market, with Google---one of the key
players---seeing revenue upwards of \$140B in 2020 alone~\cite{xxx}.
%

The ad market involves interaction between four types of mutually distrustful parties:
(1) the \textbf{advertiser}, who seeks to show ads to end users who
   are likely to engage with them (possibly spending money with the
   advertiser as a result), and who is willing to pay for users to view
   these ads;
 %
(2) the \textbf{publisher}, who operates a website that has an audience
   of users to whom advertisers might wish to advertise, and who seeks
   to monetize their content and audience by showing ads;
 %
 (3) the \textbf{platform} or ``ad network'', who connects advertisers
   to publishers who have users with the right interest, and takes a cut
   of the publishers' ad revenues; and
 %
 (4) the \textbf{end user}, who uses the publisher's website and generates
   behavioral data (which could be sensitive) used for ad targeting in doing so,
   who sees the platform's chosen advertiser's ads and potentially interacts
   with them.

The money flows from the advertisers to the platform for placing ads with publishers, so that they will ultimately be seen and acted upon by users.
%
The advertisers don't entirely trust the platforms to bill them correctly and need accounting mechanisms they can rely on and audit.
%
Similarly, the publishers do not entirely trust the platforms to accurately reward them for showing ads to visitors to their sites, and want trustworthy and auditable accounting mechanisms as well.

%
Well-known platforms include Google's and Meta's Ad business, as well
as Bing Ads, Criteo, Zedo, and others.
%
As a middle-man between advertisers, publishers, and end users, the platform
holds tremendous power and receives significant sensitive information, including
who viewed which ad and whether they interacted with it.
%
%
%
%However, users would prefer to avoid revealing their activity related to ads to the publisher and to the platform.

\textbf{
Our goal is to realize these mechanisms \emph{without any need for any of these parties to track the users}.} 
The research objective of this proposal is to design cryptographic protocols and
computer systems that improve data privacy in web advertising, today's
predominant business model for web services.
%
Our approach will, ideally, lead to technology that support today's advertising
ecosystem with much improved privacy for individual users who view and
interact with online advertisements.
%

\paragraph{Privacy desiderata.}
We would like to ensure that the user is not tracked by any participant; in particular, this means that even though the platform acts as a middleman and shows ads to this user, the platform does not know which user it is serving an ad to, or generally which user it is interacting with.  Publishers and advertisers don't learn anything about the user as a result of interacting with the ad system either; of course they may already know a lot about the user because the publisher often has an established relationship with them (for example, a newspaper may require log-in credentials from its subscribers) and the advertiser may learn the user's identity when the user makes a purchase; we only require that they not learn anything that they don't already know.  Additionally, we don't want the publisher to find out which ad he showed to the user, or the advertisers to find out which publishers sent them their customers --- otherwise they may choose to cut out the platform's services and the market won't work anymore.  Finally, we require that 
neither publisher, nor advertiser or platform find out which \emph{specific} interaction (the combination of user identity, content viewed, and ad shown)
	resulted in a conversion; they only learn that a real user, a real ad, and a real conversion event were involved.

\paragraph{Security and accountability desiderata.}
%
%Advertising involves money changing hands, and thus provides incentives for
%fraud.
%
In the online ad ecosystem's threat model, individual parties seek to maximize
their own revenue or minimize their costs, and of course there are incentives for fraud.
%
Collusion between parties can happen (\eg a publisher may create sybil end
users), and is common.
%

%
%The most important challenge is \textbf{click fraud}, which describes the idea
%of creating fake ad impressions and engagements in order to extract revenue from
%an advertiser.
%
%In particular, a publisher gains financially from showing more ads and from
%showing higher-value ads.
%
For example, in the pay-per-click ad revenue model, malicious publishers might generate fake traffic via sybil users (e.g., ``click
farms''~\cite{understanding-ad-fraud}), or misrepresent the real users' interest
towards the platform in order to get given more valuable ads in RTB.  One popular way to combat click fraud is for the platform to identify users,
collect their information, and monitor their behavior at scale, so as to be able to tell legitimate users apart from sybils.
%
But this user tracking approach is
of course diametrically opposed to the users' justified desire for online
privacy.
%
Thus, a privacy-preserving ways of preventing sybils is a desirable alternative to this approach.

The pay-per-conversion ad revenue model in which a publisher is rewarded only for ads that led end users to do something advertisers value (such as complete a purchase) an even more sinister (from the privacy point of view) approach to tracking proliferated.  
%
An ad puts a cookie in the user's browser; when the user later visits a relevant site, it scans all the cookies for those relevant to its ad campaigns, thereby discovering which ad(s) caused the user to visit the site.
%
These cookies are so damaging to consumer privacy that a push to remove the support for these so-called ``third-party" cookies has been successful.
%\footnote{\url{https://www.consumerreports.org/advertising-marketing/internet-advertising-is-about-to-change-third-party-cookies-a6221885875/}}.
%
Of course, the beneficiaries of this success are large platforms that do not need cookies to track users' activities, and can therefore benefit from the demise of smaller ad networks.
%
Unless a privacy-friendly way to handle the ad economy can be found, these platforms will have an ever greater incentive to track all of our activities.

Finally, in addition to preventing malicious behavior from publishers, such as click fraud, ad ecosystems need to have mechanisms that ensures that advertisers reward publishers and platforms for serving successful ads.  

\paragraph{Our vision for reconciling privacy with accountability.}
%
In this project, we plan to develop an alternative to today's privacy-invasive
advertising ecosystem.
%
\todo{Give a condensed version of the design, explain the role of cryptographic tokens.}


\paragraph{Threat model.}
%
We assume that everyone trusts the platform to be honest-but-curious (\ie faithfully execute our protocol). 
%
We also assume that the platform trusts the client-side browser software to behave correctly.
%
Major ad platforms (\eg Google) in some cases also control browser software; however, since web browsers are open-source software, client-side modification is a possibility.
%
We assume that the ad platform can attest to the browser's integrity using technical means for remote attestation, such as a Trusted Platform Module (TPM).
%
When it encounters an unknown browser, the platform treats it as suspicious (\ie it might be a click farm) and refuses to serve ads to it.
%

Our approach draws on cryptographic tools (\S\ref{s:bg-crypto}) and some minor
changes to software, particular end-user browsers.

\subsection{Towards Realizing Our Vision}
We plan to tackle the problem of privacy-first advertising in two broad steps:
first, we establish the primitives needed to carry out financial accounting in
the ad ecosystem without requiring privacy-invasive data
collection (\S\ref{r:fraud}), and then we address the ad matching process and
hide users' interests and behavior from the other parties in the ecosystem
(\S\ref{r:matching}).


\subsection{Related Work}
\label{s:bg-related}

\paragraph{End-user privacy \vs the platform.}
%
PrivAd~\cite{privad} introduces an untrusted, anonymizing proxy between the
client and the platform.
%
Has some click fraud detection; mixes requests from different clients for user
anonymity.
%
Good, practical performance, as doesn't need any heavy crypto.
%

%
ObliviAd~\cite{obliviad} relies on hardware-based private information retrieval
(PIR) for ad distribution and mixing of billing tokens to establish client
privacy versus the platform.
%

%
Adnostic~\cite{adnostic} (Boneh et al.) proposes a browser-based user profiling
solution that moves the ad targeting into the user's browser and hides the
specific ad choice from the platform, but provides a cryptographic protocol for
billing the correct advertisers.
%
Green et al.~\cite{adnostic+} improved scale over Adnostic's protocol.
%

Pri-RTB~\cite{pri-rtb} is a private RTB protocol for a semi-honest setting,
based on additively homomorphic encryption of user interest profiles.
%
It only seeks to hide user identities from advertisers, but trusts the
auctioneer (the platform) to run the computation correctly.
%

%
FLoC~\cite{floc} tracks user interests on the client side, and builds cohorts of
users with similar interests; platform them targets ads to the cohorts rather
than individuals.
%

\paragraph{Publisher/Advertiser trust in the platform.}

%
Verifiable, private auctions; MPC based ad auction work.
%

\paragraph{Click fraud prevention.}
%
\todo{Add some references}
%

